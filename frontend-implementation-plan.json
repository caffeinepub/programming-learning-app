{
  "kind": "implementation_plan",
  "version": "1.0",
  "title": "Fix login credential input to accept alphanumeric characters",
  "requirements": [
    {
      "id": "REQ-12",
      "summary": "Remove all numeric-only restrictions from the credential input field in LoginPage.tsx to allow alphanumeric credentials like STU001, STU003, TCH001, and ADM001",
      "acceptanceCriteria": [
        "The credential input field in LoginPage.tsx uses type='text' with no inputMode='numeric' or inputMode='decimal'.",
        "No onKeyPress, onKeyDown, or onChange handler strips or blocks alphabetic characters.",
        "No pattern attribute limits input to digits only.",
        "Typing STU003 into the field displays 'STU003' exactly as typed.",
        "Submitting STU003 as a Student credential succeeds and navigates to the Student Dashboard.",
        "Submitting TCH001 as a Teacher credential succeeds and navigates to the Teacher Panel.",
        "Submitting ADM001 as an Admin credential succeeds and navigates to the Admin Panel.",
        "An invalid credential still shows an inline error message without navigating away."
      ],
      "file_operations": [
        {
          "path": "frontend/src/pages/LoginPage.tsx",
          "operation": "modify",
          "description": "Audit and fix the credential input field to ensure it is a plain text input with type='text'. Remove any occurrence of type='number', inputMode='numeric', inputMode='decimal', pattern attributes, or any onKeyPress/onKeyDown/onChange handlers that filter or block non-numeric characters. Verify the input correctly displays and submits alphanumeric strings like STU003, TCH001, and ADM001 without modification or stripping."
        }
      ]
    },
    {
      "id": "REQ-13",
      "summary": "Fix the useLogin.ts hook to correctly convert alphanumeric credential strings to the backend's expected bigint format without failing when the credential contains letters",
      "acceptanceCriteria": [
        "useLogin.ts does not crash or return an error when the credential string contains letters.",
        "The hook correctly maps the alphanumeric credential to the backend's expected format.",
        "A valid credential like STU003 passed through the hook results in a successful backend login response."
      ],
      "file_operations": [
        {
          "path": "frontend/src/hooks/useLogin.ts",
          "operation": "modify",
          "description": "Audit the credential conversion logic in useLogin.ts to ensure alphanumeric strings like 'STU003' are correctly converted to bigint format before being passed to the backend login method. The current implementation likely uses BigInt(credential) which fails on non-numeric strings. Implement a robust conversion that extracts the numeric portion (e.g., '003' from 'STU003') or maps the entire string to a numeric identifier that the backend expects. Ensure the conversion does not crash or fail silently when the credential contains letters, and that valid credentials like STU003, TCH001, and ADM001 result in successful backend login calls."
        }
      ]
    }
  ]
}